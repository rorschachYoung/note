# Mysql
## 1.linux下安装


## 2.Mysql语句
首先确保安装了mysql并且把mysql放入了环境变量中  
> mysql -h 127.0.0.1 -p 3306 -u root -p  
> mysql -u root -p
然后输入密码进入mysql 操作界面  

### 2.1 查看数据库跟表
1.show databases  显示数据库
2. use test       使用test数据库
3. show tables
4. 建表
建立comment评论表  
create table comment(
    id int primary key auto_increment,
    name char(20),
    pubtime datatime,
    content varchar(200)
)charset utf8  
建立user用户表  
create table user(
    id int primary key auto_increment not null,
    nickname varchar(50) not null,
    password varchar(50) not null,
    birthday date,
    gender int,
    telephone varchar(50) not null,
    city int,
    score int default 0 not null comment '积分', 
    balance decimal(18,4) default 0 not null comment '余额',
    regtime datetime not null comment '注册时间',
    motto varchar(50) comment '个性签名'
)charset utf8   
建立address用户收货地址表
create table address(
    id int primary key auto_increment not null,
    address varchar(200) not null,
    userid int not null comment '外键',
    name varchar(50) comment '收件人' not null,
    telephone varchar(50) comment '联系电话' not null
)charset utf8 
5. desc comment    查看表字段 desc tableName 查看表的信息
5. select * from comment  

### 2.2 Mysql CRUD
mysql表数据的增删改查
#### 2.2.1 insert
1. 首先进入数据库，show databases,然后desc [user] 查看user表结构(表列字段)  
2. insert into user (uid,name,age) values (1,'zs',23)  
3. select * from user 查看表数据  
4. insert into user (name,age) values ('ls',19)因为uid自增长，可以不写    
5. insert into user values (5 ,'xx',22) 可以    
6. insert into user values ('ss', 22)  不可以，即使uid自增，k-v也要对应上    
7. insert into user values (5 ,'xx',22),(6,'ss',11) 插入多条    
#### 2.2.2 update 
1. update user set name='sb' where uid=8  修改uid=8的name字段值为'sb'  
2. update user set  name='sb',age=29 where uid=8 修改多个字段值  
3. update user set name = 'sb' 没有where限制语句，就会把整张表全部name字段值改为'sb'  
#### 2.2.3 delete 
1. delete from user where uid =1  
#### 2.2.4 select 
1.  select * from user where uid = 1  
2.  select uid,age,name from user   
3.  select uid,age,name from user where uid <= 5  
4.  select uid,age,name from user where uid <= 5  
5.  select uid,age,name from user where uid like "%1%"  %表示匹配任意个字符  


### 2.3 限制语句(条件查询)
#### 2.3.1 where
where可用的运算符  + - * / % > >= <= = += !=   and  or not

between 13 and 16

in (1,3,5) 符合其中一个 

like "%1_"  %代表任意个任意字符  _代表一个任意字符

group by 分组

select age from student group by age 
显示所有出现的年龄信息
select age,count(*) as count from student group by age 
显示所有出现的年龄信息,并统计改年龄有多少数量
除了count函数还有avg() max() min() sum()

having 是删选group by之后的数据

order by  age      默认正序
order by  age asc  正序排列
order by  age desc 倒序排列

limit startnum  count  startnum 起始数据 count 数据条

#### 2.4 多表联合查询
select * from tablea as a join tableb as b on a.name = b.name

#### 2.5 左右连接
左链接查询表示以左表为主,连接上右表跟左表相同值得部分,如右表没有左表的值怎补齐null
select * from tablea as a join tableb as b on a.name = b.name
多表查询后会有相同的字段,可以通过左,右连接左右 来选用表的字段
或者从夺标查询的结果直接选取左右表的字段这样 也是一种方法
select a.name,a.age from tablea as a join tableb as b on a.name = b.name






## 3.Node连接mysql
安装mysql模块
> npm i mysql 
```JS
const mysql = require('mysql')
let conn = mysql.createConnection({
    host:'localhost',
    user:'root',
    password:'12345',
    database:'test',
})
conn.connect((err,result)=>{
    conn.query('select * from user',(err,data)=>{
        console.log(err,data)
    })
})
```
